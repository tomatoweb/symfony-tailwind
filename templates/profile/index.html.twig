{% extends 'base.html.twig' %}

{% block title %}CRUD and pagination with Symfony 7{% endblock %}

{% block body %}

<div class="h-[100vh] p-16 antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900">

    <div class="text-2xl font-semibold">ðŸš€ Symfony7 CRUD with Knp Pagination and Tailwind</div>

    <a class="btn btn-primary  btn-sm mb-2 float-end" href="{{ path('profile.create') }}">create Profile</a>
    <table class="border-collapse table-auto w-full text-sm">
    <thead>
      <tr>
        <th class="border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Name</th>
        <th class="border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Edit</th>
        <th class="border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Delete</th>
      </tr>
    </thead>
    <tbody>
        {% for profile in profiles %}
            <tr class="table-secondary">
                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                  {{ profile.name }} : {{ profile.description }} : {{ profile.pool.name | default('') }}
                </td>
                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                    <div class="d-flex gap-2">
                        <a class="btn btn-outline-primary btn-sm" href="{{ path('profile.edit', {id: profile.id}) }}">edit</a>
                    </div>
                </td >
                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                    <div class="d-flex gap-2">
                        <a class="btn btn-outline-danger btn-sm" href="{{ path('profile.delete', {id: profile.id}) }}">delete</a>
                    </div>
                </td>
            </tr>
        {% endfor %}
    </tbody>
    </table>

    <div class="flex justify-center items-center mt-4 bg-slate-900">
        {{ knp_pagination_render(profiles)}}
    </div>

</div>

{% endblock %}
